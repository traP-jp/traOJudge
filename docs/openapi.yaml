openapi: 3.0.3
info:
  title: traO Judge API
  description: traO Judge API (front ↔ back)
  version: 0.1.0
tags:
  - name: authentication
  - name: editorials
  - name: me
  - name: oauth2
  - name: problems
  - name: submissions
  - name: users
paths:
  '/editorials/{editorialId}':
    parameters:
      - $ref: '#/components/parameters/editorialIdInPath'
    get:
      summary: getEditorial
      operationId: getEditorial
      tags:
        - editorials
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EditorialDetail'
        '400':
          description: Bad Request
        '404':
          description: 解説が存在しません(または解説の閲覧権限がありません)
      description: 個別の解説を取得する
    put:
      summary: putEditorial
      operationId: putEditorial
      tags:
        - editorials
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PutEditorialRequest'
      responses:
        '201':
          description: |-
            No Content
            正常に変更されました.
        '400':
          description: Bad Request
        '403':
          description: |-
            Forbidden
            解説を変更する権限がありません.
        '404':
          description: |-
            Not Found
            解説が存在しません. (または解説の閲覧権限がありません.)
      description: 個別の解説を変更する
    delete:
      summary: deleteEditorial
      operationId: deleteEditorial
      tags:
        - editorials
      responses:
        '201':
          description: |-
            No Content
            正常に削除されました.
        '400':
          description: Bad Request
        '403':
          description: |-
            Forbidden
            解説を削除する権限がありません.
        '404':
          description: |-
            Not Found
            解説が存在しません. (または解説の閲覧権限がありません.)
      description: 個別の解説を削除する
  /problems:
    post:
      summary: postProblem
      description: |-
        問題を新規作成・投稿する
        このとき作成された問題は必ず非公開になる
        公開する場合は PATCH で変更する必要がある
      operationId: postProblem
      tags:
        - problems
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PostProblemRequest'
      responses:
        '200':
          description: |-
            OK
            問題が投稿されました.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
        '400':
          description: Bad Request
    get:
      summary: getProblems
      operationId: getProblems
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problems'
        '400':
          description: Bad Request
        '404':
          description: Not Found
      description: 問題一覧を取得する
      requestBody:
        content: {}
      tags:
        - problems
      parameters:
        - $ref: '#/components/parameters/limitInQuery'
        - $ref: '#/components/parameters/offsetInQuery'
        - $ref: '#/components/parameters/problemsOrderByInQuery'
        - $ref: '#/components/parameters/userNameInQuery'
        - $ref: '#/components/parameters/userIdInQuery'
  '/problems/{problemId}':
    parameters:
      - $ref: '#/components/parameters/problemIdInPath'
    get:
      summary: getProblem
      operationId: getProblem
      tags:
        - problems
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
        '400':
          description: Bad Request
        '404':
          description: |-
            Not Found
            問題が存在しません. (または問題の閲覧権限がありません.)
      description: 個別の問題を取得する
    put:
      summary: putProblem
      operationId: putProblem
      tags:
        - problems
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Problem'
        '400':
          description: Bad Request
        '403':
          description: |-
            Forbidden
            問題を編集する権限がありません.
        '404':
          description: |-
            Not Found
            問題が存在しません. (または問題の閲覧権限がありません.)
      description: 問題を修正する
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PutProblemRequest'
    delete:
      summary: deleteProblem
      operationId: deleteProblem
      tags:
        - problems
      responses:
        '201':
          description: |-
            No Content
            正常に削除されました.
        '400':
          description: Bad Request
        '403':
          description: |-
            Forbidden
            問題を削除する権限がありません.
        '404':
          description: |-
            Not Found
            問題が存在しません. (または問題の閲覧権限がありません.)
      description: 問題を削除する
  '/problems/{problemId}/editorials':
    parameters:
      - $ref: '#/components/parameters/problemIdInPath'
    get:
      summary: getEditorialsOnProblem
      operationId: getEditorialsOnProblem
      tags:
        - editorials
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Editorials'
        '400':
          description: Bad Request
        '404':
          description: |-
            Not Found
            問題が存在しません. (または問題の閲覧権限がありません.)
      description: ある問題の全ての解説を取得する
    post:
      summary: postEditorial
      operationId: postEditorial
      tags:
        - editorials
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PostEditorialRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EditorialDetail'
        '400':
          description: Bad Request
        '401':
          description: |-
            Unauthorized
            ログインしていません.
        '403':
          description: |-
            Forbidden
            解説を投稿する権限がありません.
        '404':
          description: |-
            Not Found
            問題が存在しません. (または問題の閲覧権限がありません.)
      description: 解説を投稿する
  '/problems/{problemId}/submissions':
    parameters:
      - $ref: '#/components/parameters/problemIdInPath'
    get:
      summary: getSubmissionsForProblem
      operationId: getSubmissionsForProblem
      tags:
        - submissions
      parameters:
        - $ref: '#/components/parameters/submissionsOrderByInQuery'
        - $ref: '#/components/parameters/judgeStatusInQuery'
        - $ref: '#/components/parameters/codeLanguageInQuery'
        - $ref: '#/components/parameters/userNameInQuery'
        - $ref: '#/components/parameters/limitInQuery'
        - $ref: '#/components/parameters/offsetInQuery'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Submissions'
        '403':
          description: |-
            Forbidden
            提出一覧を取得する権限がありません.
        '404':
          description: |-
            Not Found
            問題が存在しません. (または問題の閲覧権限がありません.)
      description: 問題への提出一覧を取得する
    post:
      summary: postSubmission
      operationId: postSubmission
      tags:
        - submissions
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PostSubmissionRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SubmissionDetail'
        '400':
          description: Bad Request
        '403':
          description: |-
            Forbidden
            ソースコードを提出する権限がありません.
        '404':
          description: |-
            Not Found
            提出が存在しません. (または提出の閲覧権限がありません.)
      description: ソースコードを提出する
  /submissions:
    get:
      summary: getSubmissions
      operationId: getSubmissions
      tags:
        - submissions
      parameters:
        - $ref: '#/components/parameters/submissionsOrderByInQuery'
        - $ref: '#/components/parameters/judgeStatusInQuery'
        - $ref: '#/components/parameters/codeLanguageInQuery'
        - $ref: '#/components/parameters/userNameInQuery'
        - $ref: '#/components/parameters/userIdInQuery'
        - $ref: '#/components/parameters/limitInQuery'
        - $ref: '#/components/parameters/offsetInQuery'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Submissions'
        '400':
          description: Bad Request
      description: 提出一覧を取得する
  '/submissions/{submissionId}':
    parameters:
      - $ref: '#/components/parameters/submissionIdInPath'
    get:
      summary: getSubmission
      operationId: getSubmission
      tags:
        - submissions
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SubmissionDetail'
        '400':
          description: Bad Request
        '404':
          description: |-
            Not Found
            提出が存在しません. (または提出の閲覧権限がありません.)
      description: 個別の提出を取得する
  '/users/{userId}':
    parameters:
      - $ref: '#/components/parameters/userIdInPath'
    get:
      summary: getUser
      operationId: getUser
      tags:
        - users
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '400':
          description: Bad Request
        '404':
          description: |-
            Not Found
            ユーザーが存在しません.
      description: 個別のユーザー情報を取得する
  /users/me:
    get:
      summary: getMe
      operationId: getMe
      tags:
        - me
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '401':
          description: |-
            Unauthorized
            ログインしていません.
      description: 自身の情報を取得する
    put:
      summary: putMe
      operationId: putUsersMeIcon
      responses:
        '200':
          description: 正常に更新されました
          content:
            application/json:
              schema:
                type: object
                properties:
                  iconUrl:
                    type: string
                required:
                  - iconUrl
        '400':
          description: 不正なリクエストです
      tags:
        - me
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PutMeRequest'
      description: アイコンなど自身に関連する情報の編集をします
  /users/me/submissions:
    get:
      summary: getMeSubmissions
      operationId: getMeSubmissions
      tags:
        - me
      parameters:
        - $ref: '#/components/parameters/submissionsOrderByInQuery'
        - $ref: '#/components/parameters/judgeStatusInQuery'
        - $ref: '#/components/parameters/codeLanguageInQuery'
        - $ref: '#/components/parameters/userNameInQuery'
        - $ref: '#/components/parameters/userIdInQuery'
        - $ref: '#/components/parameters/limitInQuery'
        - $ref: '#/components/parameters/offsetInQuery'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Submission'
        '401':
          description: |-
            Unauthorized
            ログインしていません
      description: 自分の提出を全て取得する
  /users/me/email:
    put:
      summary: putMeEmail
      operationId: putMeEmail
      responses:
        '204':
          description: 正常に更新されました　メール認証を行なってください
        '400':
          description: 不正なリクエストです
      tags:
        - me
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Email'
      description: メール情報を書き換える メール情報を書き換えた後はメール認証が必要である
  /users/me/password:
    put:
      summary: putUserMePassword
      operationId: putUsersMePassword
      responses:
        '204':
          description: 正常に更新されました
        '400':
          description: 不正なリクエストです
      tags:
        - me
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PutPasswordRequest'
      description: ログイン後にパスワードを変更する
  /signup/request:
    post:
      summary: postSignupRequest
      operationId: postSignupRequest
      responses:
        '201':
          description: 認証用のURLを送信しました　メール認証を行なってください
        '400':
          description: 不正なリクエストです　メールアドレスの形式を確認してください
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SignupRequest'
      tags:
        - authentication
      description: メールアドレスを渡し，そこに認証用のリンクを送る。
  /signup:
    post:
      summary: postSignup
      operationId: postSignup
      responses:
        '201':
          description: 正常にユーザーを作成できました　メール認証を行なってください
        '400':
          description: 不正なリクエストです
        '401':
          description: Unauthorized
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Signup'
      tags:
        - authentication
      description: |-
        email+passwordによるユーザー登録
        クエリパラメタにtokenを持ち，それでメール情報を管理する
      parameters:
        - $ref: '#/components/parameters/token'
  /login:
    post:
      summary: postLogin
      operationId: postLogin
      responses:
        '204':
          description: No Content
        '400':
          description: 不正なリクエストです　ユーザー名とパスワードを確認してください
      tags:
        - authentication
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserEmailAndPassword'
      description: ログイン
  /logout:
    post:
      summary: postLogout
      operationId: postLogout
      responses:
        '204':
          description: No Content
      description: ログアウト
      tags:
        - authentication
  /reset-password/request:
    post:
      summary: postResetPasswordReset
      tags:
        - authentication
      responses:
        '204':
          description: 正常にリセットメールを送信しました
      operationId: postRequestResetPassword
      description: パスワード変更のリクエスト
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Email'
  /reset-password:
    post:
      summary: postResetPassword
      operationId: postResetPassword
      responses:
        '204':
          description: 正常に更新されました
      description: 新しいパスワードをPOSTする
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ResetPasswordRequest'
      tags:
        - authentication
      parameters:
        - $ref: '#/components/parameters/token'
  /google-oauth2/params:
    get:
      summary: getGoogleOAuth2Params
      operationId: getGoogleAuthParams
      responses:
        '200':
          description: 正しいURLが返されました
          content:
            application/json:
              schema:
                type: object
                properties:
                  url:
                    type: string
                required:
                  - url
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
      description: GoogleOAuthのためのエンドポイント
      tags:
        - oauth2
    parameters: []
  /github-oauth2/params:
    get:
      summary: getGithubOAuth2Params
      operationId: getgithubAuthParams
      responses:
        '200':
          description: 正しいURLが返されました
          content:
            application/json:
              schema:
                type: object
                properties:
                  url:
                    type: string
                required:
                  - url
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
      description: GitHubOAutheのためのエンドポイント
      tags:
        - oauth2
    parameters: []
  /traq-oauth2/revoke:
    post:
      summary: postTraqAouth2Revoke
      operationId: revokeTraqAuth
      tags:
        - oauth2
      requestBody:
        description: Access token to be revoked
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                token:
                  type: string
                  description: The access token to revoke
              required:
                - token
      responses:
        '201':
          description: トークンは正常に削除されました
          content: {}
        '400':
          description: Invalid request or token
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Invalid token or request
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
      description: traQOAuthのトークンを削除する
  /google-oauth2/revoke:
    post:
      summary: postGoogleOAuth2Revoke
      operationId: revokeGoogleAuth
      tags:
        - oauth2
      requestBody:
        description: Access token to be revoked
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                token:
                  type: string
                  description: The access token to revoke
              required:
                - token
      responses:
        '201':
          description: トークンは正常に削除されました
          content: {}
        '400':
          description: Invalid request or token
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Invalid token or request
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
      description: GoogleOAuthのトークンを削除する
  /github-oauth2/revoke:
    post:
      summary: postGithubOAuth2Revoke
      operationId: revokeGithubAuth
      tags:
        - oauth2
      requestBody:
        description: Access token to be revoked
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                token:
                  type: string
                  description: The access token to revoke
              required:
                - token
      responses:
        '201':
          description: トークンは正常に削除されました
          content: {}
        '400':
          description: Invalid request or token
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Invalid token or request
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
      description: GithubOAuthのトークンを削除する
components:
  schemas:
    Problem:
      title: Problem
      type: object
      description: 問題の詳細
      properties:
        id:
          type: integer
          description: 問題ID
        title:
          type: string
          description: 問題タイトル
        authorId:
          type: integer
          description: 作問者のユーザーID
        isPublic:
          type: boolean
          description: |-
            問題が全体公開かどうか.

            * `true` - 公開
            * `false` - 非公開 (問題の作者のみ閲覧可)
        difficulty:
          type: integer
          description: 難易度
        statement:
          type: string
          description: 問題文 (HTML形式)
        timeLimit:
          type: integer
          description: 実行時間制限 (ms)
        memoryLimit:
          type: integer
          description: メモリ制限 (MiB)
        testcases:
          type: array
          items:
            $ref: '#/components/schemas/TestCase'
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
      required:
        - id
        - title
        - authorId
        - isPublic
        - difficulty
        - timeLimit
        - memoryLimit
        - testcases
        - createdAt
        - updatedAt
    Problems:
      title: Problems
      type: object
      properties:
        total:
          type: integer
        problems:
          type: array
          items:
            $ref: '#/components/schemas/Problem'
      required:
        - total
        - problems
    PostProblemRequest:
      title: PostProblemRequest
      type: object
      description: 問題の投稿リクエスト
      properties:
        title:
          type: string
          description: 問題タイトル
        difficulty:
          type: integer
          description: 難易度
        statement:
          type: string
          description: 問題文 (HTML形式)
        timeLimit:
          type: integer
          description: 実行時間制限 (ms)
        memoryLimit:
          type: integer
          description: メモリ制限 (MiB)
        testcases:
          type: array
          items:
            $ref: '#/components/schemas/TestCase'
      required:
        - title
        - difficulty
        - statement
        - timeLimit
        - memoryLimit
    PutProblemRequest:
      title: PutProblemRequest
      type: object
      description: 問題の変更リクエスト
      properties:
        title:
          type: string
          description: 問題タイトル
        isPublic:
          type: boolean
          description: |-
            問題が全体公開かどうか.

            * `true` - 公開
            * `false` - 非公開 (問題の作者のみ閲覧可)
        difficulty:
          type: integer
          description: 難易度
        statement:
          type: string
          description: 問題文 (HTML形式)
        timeLimit:
          type: integer
          description: 実行時間制限 (ms)
        memoryLimit:
          type: integer
          description: メモリ制限 (MiB)
        testcases:
          type: array
          items:
            $ref: '#/components/schemas/TestCase'
      required:
        - title
        - isPublic
        - difficulty
        - timeLimit
        - memoryLimit
    User:
      title: User
      type: object
      description: ユーザー情報
      properties:
        id:
          type: integer
          description: ユーザーID
        name:
          type: string
          description: ユーザー名
        traqId:
          type: string
          description: traQのID
        githubId:
          type: string
          description: GitHubのID
        iconUrl:
          type: string
        postProblem:
          type: array
          items:
            type: string
        submit:
          type: array
          items:
            type: string
        xLink:
          type: string
        githubLink:
          type: string
        selfIntroduction:
          type: string
        role:
          $ref: '#/components/schemas/Role'
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
        '':
          type: string
      required:
        - id
        - name
        - role
        - createdAt
        - updatedAt
    PutMeRequest:
      title: PutMeRequest
      type: object
      properties:
        icon:
          type: string
          format: binary
        xLink:
          type: string
        githubLink:
          type: string
        selfIntroduction:
          type: string
    PutPasswordRequest:
      title: PutPasswordRequest
      type: object
      description: ログイン後のパスワード変更用
      properties:
        oldPassword:
          type: string
          format: password
        newPassword:
          type: string
          format: password
      required:
        - oldPassword
        - newPassword
    Submission:
      title: Submission
      type: object
      description: 提出
      properties:
        id:
          type: integer
          description: 提出ID
        userId:
          type: integer
          description: 提出ユーザーID
        problemId:
          type: integer
          description: 問題ID
        submittedAt:
          type: string
          format: date-time
          description: 提出日時
        languageId:
          type: integer
          description: 提出コードの言語ID
        totalScore:
          type: integer
          description: スコアの合計
        maxTime:
          type: integer
          description: 実行時間の最大値 (ms)
        maxMemory:
          type: number
          description: メモリ使用量の最大値 (MiB)
        judgeStatus:
          $ref: '#/components/schemas/JudgeStatus'
      required:
        - id
        - userId
        - problemId
        - submittedAt
        - languageId
        - totalScore
        - maxTime
        - maxMemory
        - judgeStatus
    Submissions:
      title: Submissions
      description: 提出一覧
      type: object
      properties:
        total:
          type: integer
        problems:
          type: array
          items:
            $ref: '#/components/schemas/Submission'
    SubmissionDetail:
      title: SubmissionDetail
      type: object
      description: 提出の詳細
      properties:
        id:
          type: integer
          description: 提出ID
        userId:
          type: integer
          description: 提出ユーザーID
        problemId:
          type: integer
          description: 問題ID
        submittedAt:
          type: string
          format: date-time
          description: 提出日時
        languageId:
          type: integer
          description: 提出コードの言語ID
        source:
          type: string
          description: 提出コード
        totalScore:
          type: integer
          description: スコアの合計
        maxTime:
          type: integer
          description: 実行時間の最大値 (ms)
        maxMemory:
          type: number
          description: メモリ使用量の最大値 (MiB)
        overallJudgeStatus:
          $ref: '#/components/schemas/JudgeStatus'
        judgeResults:
          type: array
          description: ジャッジ結果の配列
          items:
            $ref: '#/components/schemas/JudgeResult'
      required:
        - id
        - userId
        - problemId
        - submittedAt
        - languageId
        - source
        - totalScore
        - maxTime
        - maxMemory
        - overallJudgeStatus
        - judgeResults
    PostSubmissionRequest:
      title: PostProblemRequest
      type: object
      description: 回答の提出リクエスト
      properties:
        languageId:
          type: integer
          description: 提出コードの言語ID
        source:
          type: string
          description: ソースコード
    Editorial:
      title: Editorial
      description: 解説
      type: object
      properties:
        id:
          description: 解説ID
          type: integer
        createdAt:
          description: 作成日時
          type: string
          format: date-time
        updatedAt:
          description: 更新日時
          type: string
          format: date-time
        authorId:
          description: 投稿者のユーザーID
          type: integer
        isPublic:
          description: |-
            解説が全体公開かどうか.

            * `true` - 公開
            * `false` - 非公開 (問題の作者のみ閲覧可)
          type: boolean
    Editorials:
      title: Editorials
      description: 解説一覧
      type: array
      items:
        $ref: '#/components/schemas/Editorial'
    EditorialDetail:
      title: EditorialDetail
      description: 解説の詳細
      type: object
      properties:
        id:
          description: 解説ID
          type: integer
        createdAt:
          description: 作成日時
          type: string
          format: date-time
        updatedAt:
          description: 更新日時
          type: string
          format: date-time
        authorId:
          description: 投稿者のユーザーID
          type: integer
        statement:
          description: 解説本文 (HTML)
          type: string
        isPublic:
          description: |-
            解説が全体公開かどうか.

            * `true` - 公開
            * `false` - 非公開 (問題の作者のみ閲覧可)
          type: boolean
      required:
        - id
        - createdAt
        - authorId
        - statement
        - isPublic
    PostEditorialRequest:
      title: PostEditorialRequest
      description: 解説の作成リクエスト
      type: object
      properties:
        statement:
          description: 解説本文 (HTML)
          type: string
        isPublic:
          description: |-
            解説が全体公開かどうか.

            * `true` - 公開
            * `false` - 非公開 (問題の作者のみ閲覧可)
          type: boolean
      required:
        - statement
        - isPublic
    PutEditorialRequest:
      title: PutEditorialRequest
      description: 解説の変更リクエスト.
      type: object
      properties:
        statement:
          description: 解説本文 (HTML)
          type: string
        isPublic:
          description: 公開されているかどうか
          type: boolean
    Signup:
      title: Signup
      type: object
      description: email+password登録
      properties:
        userName:
          type: string
        password:
          type: string
        token:
          type: string
      required:
        - userName
        - password
        - token
    SignupRequest:
      title: SignupRequest
      type: object
      description: Signupのリクエスト
      properties:
        email:
          type: string
          format: email
      required:
        - email
    Email:
      title: Email
      type: object
      properties:
        email:
          type: string
          format: email
      required:
        - email
    UserEmailAndPassword:
      title: UserEmailAndPassword
      type: object
      description: login
      properties:
        email:
          type: string
          format: email
        password:
          type: string
      required:
        - email
        - password
    ResetPasswordRequest:
      title: ResetPasswordRequest
      type: object
      properties:
        password:
          type: string
        token:
          type: string
      required:
        - password
        - token
      description: ''
    JudgeStatus:
      title: JudgeStatus
      description: |-
        ジャッジの状態

        * `AC` - 正解
        * `WA` - 不正解
        * `CE` - コンパイルエラー
        * `IE` - 内部エラー
        * `MLE` - メモリ制限超過
        * `RE` - 実行時エラー
        * `TLE` - 実行時間超過
        * `WJ` - ジャッジ待ち
      type: string
      enum:
        - AC
        - WA
        - CE
        - IE
        - MLE
        - RE
        - TLE
        - WJ
    JudgeResult:
      title: JudgeResult
      type: object
      description: ジャッジ結果
      properties:
        testcaseId:
          type: string
        testcaseName:
          type: string
        judgeStatus:
          $ref: '#/components/schemas/JudgeStatus'
        score:
          type: integer
        time:
          type: integer
        memory:
          type: number
      required:
        - testcaseId
        - judgeStatus
        - score
        - time
        - memory
    Role:
      title: Role
      description: |-
        ユーザの役割

        * `Admin` - Admin
        * `traPUser` - AdminでないtraP部員
        * `CommonUser` - Adminでない一般ユーザー(traP部員以外のユーザー)
      type: string
      enum:
        - Admin
        - traPUser
        - CommonUser
    TestCase:
      title: TestCase
      type: object
      properties:
        name:
          type: string
        testNumber:
          type: integer
        testInput:
          type: string
        testOutput:
          type: string
      required:
        - name
        - testNumber
        - testInput
        - testOutput
  parameters:
    problemIdInPath:
      name: problemId
      in: path
      description: 問題ID
      required: true
      schema:
        type: number
    problemsOrderByInQuery:
      name: orderBy
      in: query
      description: |-
        問題一覧一覧の並び替え

        文字列の先頭に `-` が付いていれば降順, 付いていなければ昇順.

        * `createdAt` - 提出日時
        * `updatedAt` - 更新日時
        * `difficulty` - 難易度
      required: false
      schema:
        type: string
        default: '-createdAt'
        enum:
          - createdAt
          - '-createdAt'
          - updatedAt
          - '-updatedAt'
          - difficulty
          - '-difficulty'
    submissionIdInPath:
      name: submissionId
      in: path
      description: 提出ID
      required: true
      schema:
        type: number
    submissionsOrderByInQuery:
      name: orderBy
      in: query
      description: |-
        提出一覧の並び替え

        文字列の先頭に `-` が付いていれば降順, 付いていなければ昇順.

        * `createdAt` - 提出日時
        * `timeConsumption` - 実行時間
        * `memoryConsumption` - メモリ量
      required: false
      schema:
        type: string
        default: '-createdAt'
        enum:
          - createdAt
          - '-createdAt'
          - timeConsumption
          - '-timeConsumption'
          - memoryConsumption
          - '-memoryConsumption'
    limitInQuery:
      name: limit
      in: query
      description: 取得数の上限
      required: false
      schema:
        type: integer
        maximum: 100
        minimum: 0
    offsetInQuery:
      name: offset
      in: query
      description: 取得の開始位置
      required: false
      schema:
        type: integer
        minimum: 0
    judgeStatusInQuery:
      name: status
      in: query
      description: ジャッジ結果
      required: false
      schema:
        $ref: '#/components/schemas/JudgeStatus'
    codeLanguageInQuery:
      name: language
      in: query
      description: ソースコードの言語
      required: false
      schema:
        type: integer
    userNameInQuery:
      name: username
      in: query
      description: ユーザー名
      schema:
        type: string
    userIdInQuery:
      name: userId
      in: query
      description: ユーザーID
      schema:
        type: integer
    userIdInPath:
      name: userId
      in: path
      description: ユーザーID
      required: true
      schema:
        type: number
    editorialIdInPath:
      name: editorialId
      in: path
      description: 解説ID
      required: true
      schema:
        type: integer
    token:
      name: token
      in: query
      required: false
      schema:
        type: string
      description: JWTトークン
